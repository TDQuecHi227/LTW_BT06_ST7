<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>Quản lý Người dùng</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .thumb { width: 40px; height: 40px; object-fit: cover; border-radius: 50%; border:1px solid #eee; }
        .table thead th { white-space: nowrap; }
    </style>
</head>
<body class="bg-light">
<div class="container py-4">
    <div class="d-flex align-items-center justify-content-between mb-3">
        <h1 class="h4 mb-0">Người dùng</h1>
        <a class="btn btn-primary" th:href="@{/admin/user/add}">
            + Thêm người dùng
        </a>
    </div>

    <!-- Tìm kiếm -->
    <form class="row g-2 mb-3" th:action="@{/admin/user}" method="get">
        <div class="col-sm-6 col-md-5">
            <input class="form-control" name="q" placeholder="Tìm theo tên, email...">
        </div>
<!--        <div class="col-auto">-->
<!--            <select class="form-select" name="role">-->
<!--                <option value="">&#45;&#45; Tất cả vai trò &#45;&#45;</option>-->
<!--                <option value="ADMIN">Admin</option>-->
<!--                <option value="MANAGER">Manager</option>-->
<!--                <option value="USER">User</option>-->
<!--            </select>-->
<!--        </div>-->
<!--        <div class="col-auto">-->
<!--            <select class="form-select" name="status">-->
<!--                <option value="">&#45;&#45; Trạng thái &#45;&#45;</option>-->
<!--                <option value="ACTIVE">Hoạt động</option>-->
<!--                <option value="LOCKED">Khóa</option>-->
<!--            </select>-->
<!--        </div>-->
        <div class="col-auto">
            <button class="btn btn-outline-secondary">Tìm</button>
            <a class="btn btn-outline-dark" th:href="@{/admin/user}">Làm mới</a>
        </div>
    </form>

    <div class="card">
        <div class="table-responsive">
            <table class="table table-hover align-middle mb-0">
                <thead class="table-light">
                <tr>
                    <th style="width: 70px;">ID</th>
                    <th>Tài khoản</th>
                    <th>Mật khẩu</th>
                    <th>Email</th>
                    <th style="width: 220px;" class="text-end">Hành động</th>
                </tr>
                </thead>
                <tbody>
                <!-- users = List<UserDTO/User> -->
                <tr th:each="u : ${users}">
                    <td th:text="${u.id}">1</td>
                    <td th:text="${u.username}">Mark</td>
                    <td th:text="${u.password}">123456</td>
                    <td th:text="${u.email}">a@example.com</td>
                    <td class="text-end">
<!--                        <a class="btn btn-sm btn-outline-info" th:href="@{/admin/users/view/{id}(id=${u.id})}">Chi tiết</a>-->
                        <a class="btn btn-sm btn-outline-primary" th:href="@{/admin/user/edit/{id}(id=${u.id})}">Sửa</a>
                        <a class="btn btn-sm btn-outline-danger"
                           th:href="@{/admin/user/delete/{id}(id=${u.id})}"
                           onclick="return confirm('Xóa người dùng này?');">Xóa</a>
                    </td>
                </tr>
                <tr th:if="${#lists.isEmpty(users)}">
                    <td colspan="7" class="text-center text-muted py-4">Chưa có người dùng nào.</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
